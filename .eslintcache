[{"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\index.js":"1","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\reportWebVitals.js":"2","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\App.js":"3","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\header\\header.component.js":"4","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\header\\header.styles.js":"5","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\dashboard\\dashboard.component.js":"6","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\dashboard\\dashboard.styles.js":"7","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\home\\home.component.js":"8","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\home\\home.styles.js":"9","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\login\\login.component.js":"10","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\login\\login.styles.js":"11","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\register\\register.component.js":"12","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\register\\register.styles.js":"13","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\services\\storage.service.js":"14","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\services\\users.service.js":"15","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\charts\\daily-logins.js":"16","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\charts\\daily-registers.js":"17"},{"size":543,"mtime":1610210505553,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"20","hashOfConfig":"19"},{"size":2275,"mtime":1610565291820,"results":"21","hashOfConfig":"19"},{"size":2058,"mtime":1610565302533,"results":"22","hashOfConfig":"19"},{"size":1842,"mtime":1610565278756,"results":"23","hashOfConfig":"19"},{"size":5435,"mtime":1610566877749,"results":"24","hashOfConfig":"19"},{"size":2293,"mtime":1610564532753,"results":"25","hashOfConfig":"19"},{"size":1218,"mtime":1610564090264,"results":"26","hashOfConfig":"19"},{"size":1459,"mtime":1610563970433,"results":"27","hashOfConfig":"19"},{"size":2842,"mtime":1610567024338,"results":"28","hashOfConfig":"19"},{"size":2419,"mtime":1610566934481,"results":"29","hashOfConfig":"19"},{"size":5099,"mtime":1610505552726,"results":"30","hashOfConfig":"19"},{"size":2490,"mtime":1610566995512,"results":"31","hashOfConfig":"19"},{"size":557,"mtime":1610565360402,"results":"32","hashOfConfig":"19"},{"size":2396,"mtime":1610565317730,"results":"33","hashOfConfig":"19"},{"size":997,"mtime":1610566411324,"results":"34","hashOfConfig":"19"},{"size":1676,"mtime":1610567045777,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"ixg3y9",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\index.js",[],["72","73"],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\reportWebVitals.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\App.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\header\\header.component.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\header\\header.styles.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\dashboard\\dashboard.component.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\dashboard\\dashboard.styles.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\home\\home.component.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\home\\home.styles.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\login\\login.component.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\login\\login.styles.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\register\\register.component.js",["74"],"import React, { useState, useRef } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getUsers, storeUser } from '../../services/storage.service';\r\nimport {\r\n  RegistroContainer,\r\n  RegistroForm,\r\n  RegistroFormGroup,\r\n  RegistroFormTitle,\r\n  RegistroLabel,\r\n  RegistroInput,\r\n  RegistroFormButtons,\r\n  RegistroFormButton,\r\n  RegistroErrorMessage\r\n} from './register.styles';\r\n\r\nexport default function Registro() {\r\n  const formState = useRef({\r\n    nombre: '',\r\n    email: '',\r\n    pass: '',\r\n    r_pass: '',\r\n    id: '',\r\n    creation: '',\r\n    token: null,\r\n  })\r\n  const [isButtonDisabled, setButtonDisabled] = useState(true);\r\n  const [isValidEmail, setIsValidEmail] = useState(true);\r\n  const [isEmailInDatabase, setIsEmailInDatabase] = useState(false);\r\n  const [isValidPass, setIsValidPass] = useState(true);\r\n  const history = useHistory();\r\n \r\n  const onCancel= () => {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  const onCreateUser = () => {\r\n    if(!validateEmail()) {\r\n      setIsValidEmail(false)\r\n    }\r\n\r\n    validatePass();\r\n\r\n    if(!validateEmail() || !validatePass()) {\r\n      return\r\n    }\r\n\r\n    let database = getUsers();\r\n    let newUser = formState.current;\r\n    let timestamp = Date.now();\r\n    let newUserId;\r\n    newUser.creation = timestamp;\r\n\r\n    let userExists = database.filter(user => user.email === newUser.email);\r\n\r\n    if(database.length > 0) {\r\n      if(userExists.length > 0) {\r\n        setIsEmailInDatabase(true)\r\n        return\r\n      } else {\r\n        setIsEmailInDatabase(false)\r\n        newUserId = database[database.length -1].id + 1;\r\n        newUser.id = newUserId;\r\n      }\r\n    } else {\r\n      newUserId = 1;\r\n      newUser.id = newUserId\r\n    }\r\n\r\n    database.push(newUser);\r\n\r\n    storeUser(database);\r\n    history.push('/login');\r\n  }\r\n\r\n  const validatePass = () => {\r\n    setIsValidPass(formState.current.pass === formState.current.r_pass);\r\n    return formState.current.pass === formState.current.r_pass\r\n  }\r\n\r\n  const handleUserInput = e => {\r\n    formState.current[e.target.name] = e.target.value\r\n    enableSubmitButton();\r\n    validatePass();\r\n  }\r\n\r\n  const validateEmail = () => {\r\n    const regex = new RegExp(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g)\r\n    const regexTest = regex.test(formState.current.email);\r\n    setIsValidEmail(regexTest);\r\n    return regexTest\r\n  }\r\n\r\n  const enableSubmitButton = () => {\r\n    let formValues = [formState.current.nombre, formState.current.email, formState.current.pass, formState.current.r_pass];\r\n    \r\n    if(formValues.some(value => value === '')) {\r\n      setButtonDisabled(true);\r\n    } else {\r\n      setButtonDisabled(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <RegistroContainer>\r\n      <Container>\r\n        <Row>\r\n          <Col md={{ span: 8, offset: 2}}>\r\n            <RegistroForm>\r\n              <RegistroFormGroup width=\"100%\">\r\n                <RegistroFormTitle>{'Registro de usuario'}</RegistroFormTitle>\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"47%\">\r\n                <RegistroInput onInput={handleUserInput} name={'nombre'} placeholder=\"Nombre\"/>\r\n                <RegistroLabel>{'Nombre'}</RegistroLabel>\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"47%\">\r\n                <RegistroInput onInput={handleUserInput} placeholder=\"Email\" name={'email'}/>\r\n                <RegistroLabel>{'Email'}</RegistroLabel>\r\n                {!isValidEmail && \r\n                  <RegistroErrorMessage>{'Invalid email address'}</RegistroErrorMessage>\r\n                }\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"47%\">\r\n                <RegistroInput onInput={handleUserInput} name={'pass'} placeholder=\"Password\"/>\r\n                <RegistroLabel>{'Password'}</RegistroLabel>\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"47%\">\r\n                <RegistroInput onInput={handleUserInput} name={'r_pass'} placeholder=\"Repeat Password\"/>\r\n                <RegistroLabel>{'Repeat Password'}</RegistroLabel>\r\n                {!isValidPass && \r\n                  <RegistroErrorMessage>{'Las contraseñas no coinciden'}</RegistroErrorMessage>\r\n                }\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"100%\">\r\n              {isEmailInDatabase && \r\n                  <RegistroErrorMessage>{'El usuario ya se encuentra registrado'}</RegistroErrorMessage>\r\n                }\r\n              </RegistroFormGroup>\r\n              <RegistroFormGroup width=\"100%\">\r\n                <RegistroFormButtons>\r\n                  <RegistroFormButton variant=\"danger\" onClick={() => onCancel()}>{'Cancelar'}</RegistroFormButton>\r\n                  <RegistroFormButton disabled={isButtonDisabled} variant=\"primary\" onClick={() => onCreateUser()}>{'Crear Usuario'}</RegistroFormButton>\r\n                </RegistroFormButtons>\r\n              </RegistroFormGroup>\r\n            </RegistroForm>\r\n          </Col>          \r\n        </Row>\r\n      </Container>\r\n    </RegistroContainer>\r\n  )\r\n}","C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\pages\\register\\register.styles.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\services\\storage.service.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\services\\users.service.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\charts\\daily-logins.js",[],"C:\\Users\\cesar\\Documents\\Projects\\Test\\test-wispro\\src\\components\\charts\\daily-registers.js",["75"],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","severity":1,"message":"81","line":88,"column":36,"nodeType":"82","messageId":"83","endLine":88,"endColumn":37,"suggestions":"84"},{"ruleId":"85","severity":1,"message":"86","line":22,"column":6,"nodeType":"87","endLine":22,"endColumn":8,"suggestions":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["91","92"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'ws'. Either include it or remove the dependency array.","ArrayExpression",["93"],"no-global-assign","no-unsafe-negation",{"messageId":"94","fix":"95","desc":"96"},{"messageId":"97","fix":"98","desc":"99"},{"desc":"100","fix":"101"},"removeEscape",{"range":"102","text":"103"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"104","text":"105"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [ws]",{"range":"106","text":"107"},[2249,2250],"",[2249,2249],"\\",[653,655],"[ws]"]